<ng-container [formGroup]="form">
	<mat-radio-group id="{{ inspectionPoint.name }}" class="ob-flex" formControlName="{{ inspectionPoint.name }}">
		<mat-label>{{ inspectionPoint.i18nKey | translate }}</mat-label>
		<mat-radio-button value="0">Kontrolliert</mat-radio-button>
		<mat-radio-button value="1">Anzeige</mat-radio-button>
		<mat-radio-button value="2">Nicht anwendbar</mat-radio-button>
		<mat-radio-button value="3">Nicht geprüft</mat-radio-button>
	</mat-radio-group>
	<ng-container *ngIf="infringements !== null && infringements.length > 0" formArrayName="{{ inspectionPoint.name }}Infringements">
		<fieldset style="margin-left: 30px">
			<legend>
				{{ "inspection.working-and-resting-time.driving-and-resting-time.driving-time.infringement.label" | translate }}
			</legend>
			<ng-container *ngFor="let infringement of infringements.controls; let i = index">
				<mat-form-field *ngIf="inspectionPoint.name !== 'drivingTime'; else elseBlock">
					<mat-select formControlName="{{ i }}">
						<mat-option *ngFor="let infringementClass of selection[i]" [value]="infringementClass.value">{{
							infringementClass.i18nKey | translate
						}}</mat-option>
					</mat-select>
				</mat-form-field>
				<ng-template #elseBlock>
					<app-hierarchical-questionary-infringement-classification
						formControlName="{{ i }}"
						[root]="{
							header: 'Welche Beschränkung wurde überschritten?',
							childs: [
								{
									shortName: 'Tägliche Lenkzeit',
									header: 'Ist eine Bewilligung zu einer erweiterten Lenkzeit vorhanden?',
									childs: [
										{
											shortName: 'Nein (Lenkzeit limitiert auf 9h)',
											header: 'Bereich',
											childs: [{ shortName: '10 Std. ≤ … < 11 Std.' }, { shortName: '11 Std. ≤ … < 13.5 Std.' }, { shortName: '13.5 Std. ≤ …' }]
										},
										{
											shortName: 'Ja (Lenkzeit limitiert auf 10h)',
											header: 'Bereich',
											childs: [{ shortName: '11 Std. ≤ … < 12 Std.' }, { shortName: '12 Std. ≤ … < 15 Std.' }, { shortName: '15 Std. ≤ …' }]
										}
									]
								},
								{
									shortName: 'Wöchentlichen Lenkzeit',
									header: 'Bereich',
									childs: [{ shortName: '60 Std. ≤ … < 65 Std.' }, { shortName: '65 Std. ≤ … < 70 Std.' }, { shortName: '70 Std. ≤ …' }]
								},
								{
									shortName: 'Maximale Gesamtlenkzeit während zweier aufeinander folgender Wochen',
									header: 'Bereich',
									childs: [{ shortName: '100 Std. ≤ … < 105 Std.' }, { shortName: '105 Std. ≤ … < 112,5 Std.' }, { shortName: '112,5 Std. ≤ …' }]
								}
							]
						}"
					></app-hierarchical-questionary-infringement-classification>
				</ng-template>
			</ng-container>
			<button *ngIf="canAddSecondInfringementClassification" type="button" (click)="addInfringement()">+ Verstoss hinzufügen</button>
		</fieldset>
	</ng-container>
</ng-container>
